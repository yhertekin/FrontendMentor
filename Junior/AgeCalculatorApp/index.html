<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />

		<link
			rel="icon"
			type="image/png"
			sizes="32x32"
			href="./assets/images/favicon-32x32.png"
		/>
		<link rel="stylesheet" href="style.css" />
		<title>Frontend Mentor | Age calculator app</title>

		<style>
			.attribution {
				font-size: 11px;
				text-align: center;
			}
			.attribution a {
				color: hsl(228, 45%, 44%);
			}
		</style>
	</head>
	<body>
		<main>
			<section class="form">
				<div class="form-group">
					<label for="day">day</label>
					<input type="number" name="day" id="day" placeholder="DD" />
				</div>
				<div class="form-group">
					<label for="month">month</label>
					<input type="number" name="month" id="month" placeholder="MM" />
				</div>
				<div class="form-group">
					<label for="year">year</label>
					<input type="number" name="year" id="year" placeholder="YYYY" />
				</div>
			</section>
			<div class="divider">
				<button onclick="calculate()">
					<img src="./assets/images/icon-arrow.svg" alt="" srcset="" />
				</button>
			</div>
			<section>
				<div class="result"><span class="result--year">38</span> years</div>
				<div class="result"><span class="result--month">3</span> months</div>
				<div class="result"><span class="result--day">26</span> days</div>
			</section>
		</main>

		<div class="attribution">
			Challenge by
			<a href="https://www.frontendmentor.io?ref=challenge" target="_blank"
				>Frontend Mentor</a
			>. Coded by <a href="https://github.com/yhertekin">yhertekin</a>.
		</div>
		<script>
			function validate(key, value) {
				const condition = {
					day: value < 1 || value < 31,
					month: value < 1 || value < 12,
					year: value < 1900 || value < new Date().getFullYear(),
				};

				return condition[key];
			}

			function calculate() {
				const day = document.querySelector("#day");
				const month = document.querySelector("#month");
				const year = document.querySelector("#year");

				// if (!validate("day", day)) return false;
				// if (!validate("month", month)) return false;
				// if (!validate("year", year)) return false;

				const birthDate = new Date(year.value, month.value - 1, day.value);
				const diffDate = new Date(
					new Date() - new Date(year.value, month.value - 1, day.value)
				);

				const outputYear = diffDate.toISOString().slice(0, 4) - 1970;
				const outputMonth = diffDate.getMonth();
				const outputDay = diffDate.getDate() - 1;

				const resultYear = document.querySelector(".result--year");
				const resultMonth = document.querySelector(".result--month");
				const resultDay = document.querySelector(".result--day");

				resultYear.innerText = outputYear;
				resultMonth.innerText = outputMonth;
				resultDay.innerText = outputDay;

				console.log(outputYear, outputMonth, outputDay);
			}
		</script>
	</body>
</html>
